<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="ja">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UDF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1"/>
	<title>鉄道クラフトサーバー</title>
<link rel="stylesheet" href="log.css">
        <link rel="shortcut icon" href="favicon.ico">
        <link rel="apple-touch-icon" href="apple-touch-icons.png">

<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script>
document.oncontextmenu = function(){
return false;
};  
</script>
<script>window.gtranslateSettings = {"default_language":"ja","native_language_names":true,"detect_browser_language":true,"languages":["ja","en","ko"],"wrapper_selector":".gtranslate_wrapper","flag_size":24,"horizontal_position":"right","vertical_position":"top","flag_style":"3d","alt_flags":{"en":"usa"}}</script>
<script src="https://cdn.gtranslate.net/widgets/latest/popup.js" defer></script>
</head>

<body>


<nav>  
<ul>
    <li><a href="https://tmimiyan.github.io/server">ホーム</a></li>
    <li><a href="https://tmimiyan.github.io/server/sapoto">サポート</a></li>
    <li><a href="https://tmimiyan.github.io/server/shira">お知らせ</a></li>
    <li class="gtranslate_wrapper"></li>
</ul>
</nav>


<div class="scrollable-container">
<div class="content">
<div align="center">
<br><br><br>
<h2>管理者用ページ</h2>

<br><br><label id="result" style="margin-left:8px;"></label>
<br><br><button id="gen">コードを生成</button>

</div>
</div>
</div>


<script>
  // 英数字の集合
  const ALPHABET = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789@\$%';

  // 偏りを抑えるためのリジェクションサンプリング
  function randomAlphaNum(length = 10) {
    const n = ALPHABET.length;           // 62
    const out = [];
    const max = 256 - (256 % n);         // 256を62で割った余りを切り捨て

    while (out.length < length) {
      // まとめて乱数を取り、使える値だけ使う
      const buf = new Uint8Array(length);
      crypto.getRandomValues(buf);
      for (const b of buf) {
        if (b >= max) continue;          // 偏りが出る部分は捨てる
        out.push(ALPHABET[b % n]);
        if (out.length === length) break;
      }
    }
    return out.join('');
  }

  document.getElementById('gen').addEventListener('click', () => {
    document.getElementById('result').textContent = randomAlphaNum(12);
  });
</script>

</body>
</html>
